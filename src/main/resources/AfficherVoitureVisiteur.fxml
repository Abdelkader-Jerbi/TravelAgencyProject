<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.Cursor?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.control.Label?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Controller.AfficherVoitureVisiteurController"
            style="-fx-background-color: #f5f5f5;"
            prefWidth="1000" prefHeight="650">

    <!-- Barre de navigation -->
    <HBox layoutX="0" layoutY="0" prefWidth="1000" prefHeight="76"
          spacing="20"
          style="-fx-background-color: #3e50b4; -fx-padding: 0 20 0 20; -fx-border-width: 0 0 2 0; -fx-border-color: #303f9f;"
          alignment="CENTER_LEFT">

        <!-- Logo -->
        <ImageView fitHeight="60" fitWidth="60" preserveRatio="true">
            <image>
                <Image url="@images/logo2.png" />
            </image>
        </ImageView>

        <!-- Recherche rapide -->
        <HBox spacing="5" alignment="CENTER_LEFT">
            <TextField fx:id="searchField"
                       promptText="Rechercher..."
                       style="-fx-pref-width: 300px;"/>
            <Button fx:id="searchButton"
                    text="Rechercher"
                    style="-fx-background-color: #1976D2; -fx-text-fill: white;"/>
        </HBox>

        <!-- Espacement dynamique -->
        <HBox HBox.hgrow="ALWAYS"/>

        <!-- Icônes -->
        <HBox spacing="10" alignment="CENTER_RIGHT">
            <!-- Panier avec badge de notification -->
            <AnchorPane>
                <ImageView fx:id="panierIcon" fitHeight="40" fitWidth="40" preserveRatio="true" layoutX="0" layoutY="0">
                    <image>
                        <Image url="@images/pannier2.png" />
                    </image>
                </ImageView>
                <Label fx:id="notificationLabel" text="0"
                       layoutX="25" layoutY="-5"
                       style="-fx-background-color: red; -fx-text-fill: white; -fx-font-size: 12px;
                              -fx-padding: 2 5 2 5; -fx-background-radius: 10;"
                       visible="true" />
            </AnchorPane>

            <ImageView fitHeight="40" fitWidth="40" preserveRatio="true">
                <image>
                    <Image url="@images/profil.png" />
                </image>
            </ImageView>
        </HBox>
    </HBox>

    <!-- Catégories -->
    <HBox layoutX="0" layoutY="76" prefWidth="1000" prefHeight="48"
          spacing="30"
          style="-fx-background-color: #5c6bc0; -fx-padding: 0 20; -fx-border-width: 0 0 2 0; -fx-border-color: #3e50b4;"
          alignment="CENTER">
        <Button fx:id="hotelButton" text="Hôtel"
                style="-fx-background-color: #ff9800; -fx-text-fill: white;"/>
        <Button fx:id="voitureButton" text="Voiture"
                style="-fx-background-color: #ff9800; -fx-text-fill: white;"/>
        <Button fx:id="billetButton" text="Billet"
                style="-fx-background-color: #ff9800; -fx-text-fill: white;"/>
    </HBox>

    <!-- Sidebar pour les filtres -->
    <VBox layoutX="20" layoutY="140" prefWidth="180" spacing="20"
          style="-fx-background-color: #ffffff; -fx-padding: 15; -fx-border-width: 1; -fx-border-color: #5c6bc0;">
        <ComboBox fx:id="brandFilter" prefWidth="150" promptText="Marque"/>
        <Slider fx:id="priceFilter"
                min="0" max="1000" value="500"
                blockIncrement="10" majorTickUnit="100" minorTickCount="1"
                showTickLabels="true" showTickMarks="true"
                prefWidth="150">
            <tooltip>
                <Tooltip text="Filtrer par prix"/>
            </tooltip>
        </Slider>
        <Button fx:id="searchButton2"
                text="Rechercher"
                style="-fx-background-color: #ff9800; -fx-text-fill: white;"/>
    </VBox>

    <!-- Conteneur dynamique pour les cartes de voitures -->
    <TilePane fx:id="voitureTilePane"
              layoutX="220" layoutY="140"
              prefWidth="750" prefHeight="500"
              hgap="20" vgap="20"
              style="-fx-padding: 10;"
              AnchorPane.topAnchor="140" AnchorPane.leftAnchor="220" AnchorPane.rightAnchor="10" AnchorPane.bottomAnchor="10"/>

</AnchorPane>
